<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Page</title>
    <style>
        /* CSS ì½”ë“œ */
        /* Mem05 */
        .mem05 {
            display: flex; /* Flexbox ì‚¬ìš© */
            flex-direction: column; /* ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ ì •ë ¬ */
            align-items: center; /* ê°€ë¡œ ë°©í–¥ ê°€ìš´ë° ì •ë ¬ */
            justify-content: center; /* ì„¸ë¡œ ë°©í–¥ ê°€ìš´ë° ì •ë ¬ */
            height: 1024px;
            background: #FFFFFF;
            padding: 20px; /* ì—¬ë°± ì¶”ê°€ */
        }

        /* ë§ˆì´í˜ì´ì§€ */
        .mypage {
            margin-bottom: 20px; /* ì•„ë˜ ì—¬ë°± ì¶”ê°€ */
            font-size: 48px;
            line-height: 58px;
            text-align: center;
            color: #000000;
        }

        /* ì™¼ìª½ ë°•ìŠ¤ì™€ ì˜¤ë¥¸ìª½ ë°•ìŠ¤ëŠ” ì´ì „ê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€ë©ë‹ˆë‹¤. */

        /* ìˆ˜ì •í•˜ê¸° */
        .edit {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 400;
            font-size: 30px;
            line-height: 36px;
            color: #FFFFFF;
            background-color: #A31432;
            border: none; /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•´ ê¸°ë³¸ border ì œê±° */
            cursor: pointer; /* ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ í¬ì¸í„°ë¡œ ë³€ê²½í•˜ì—¬ ë²„íŠ¼ì„ì„ ê°•ì¡° */
            padding: 10px 20px; /* ë²„íŠ¼ ë‚´ë¶€ ì—¬ë°± ì¶”ê°€ */
        }

        /* ë¡œê·¸ì¸ ì»¨í…Œì´ë„ˆ */
        .container {
            display: flex; /* Flexbox ì‚¬ìš© */
            align-items: center; /* ê°€ë¡œ ë°©í–¥ ê°€ìš´ë° ì •ë ¬ */
            justify-content: space-between; /* ë‚´ìš©ë“¤ì„ ì»¨í…Œì´ë„ˆ ì–‘ìª½ ëì— ë°°ì¹˜í•©ë‹ˆë‹¤. */
            margin-bottom: 20px; /* ì•„ë˜ ì—¬ë°± ì¶”ê°€ */
            max-width: 700px; /* ìµœëŒ€ ë„ˆë¹„ë¥¼ 700pxë¡œ ì œí•œí•˜ì—¬ ë„ˆë¹„ê°€ ë„ˆë¬´ ì»¤ì§€ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤. */
            background-color: #FFFFFF; /* ë°°ê²½ìƒ‰ì„ ì§€ì •í•©ë‹ˆë‹¤. */
            border: 5px solid #A31432; /* í…Œë‘ë¦¬ ìŠ¤íƒ€ì¼ì„ ì§€ì •í•©ë‹ˆë‹¤. */
            box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); /* ê·¸ë¦¼ì íš¨ê³¼ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. */
            padding: 20px; /* ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ì—¬ë°±ì„ ì§€ì •í•©ë‹ˆë‹¤. */
            width: 100%; /* ë‚´ìš©ì— ë”°ë¼ ìë™ìœ¼ë¡œ ë„ˆë¹„ë¥¼ ì¡°ì ˆí•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. */
        }

        /* ì˜ì–´ ì¸ì¦ë° ê³ ì „ë…ì„œ */
        .title2 {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 400;
            font-size: 30px;
            line-height: 36px;
            color: #000000;
            margin-right: 20px; /* ì™¼ìª½ ì—¬ë°± ì¶”ê°€ */
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê²¨ì§„ ìƒíƒœ */
            position: fixed; /* í™”ë©´ì— ê³ ì •ëœ ìœ„ì¹˜ */
            z-index: 1; /* ë‹¤ë¥¸ ìš”ì†Œ ìœ„ì— ë‚˜íƒ€ë‚˜ë„ë¡ ì„¤ì • */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* ìŠ¤í¬ë¡¤ë°” ì¶”ê°€ */
            background-color: rgba(0, 0, 0, 0.4); /* íˆ¬ëª…í•œ ê²€ì€ìƒ‰ ë°°ê²½ */
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
    <script>
        // ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ HTMLì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜
        function fetchData() {
            // í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ IDë¥¼ ì–´ë–»ê²Œ ê°€ì ¸ì˜¬ì§€ì— ë”°ë¼ì„œ ì•„ë˜ ë¶€ë¶„ì„ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.
            // ì˜ˆë¥¼ ë“¤ì–´, ë¡œê·¸ì¸ ì‹œ ì„œë²„ì—ì„œ ë°›ì€ ì‚¬ìš©ì ì •ë³´ì— IDê°€ ìˆë‹¤ë©´ í•´ë‹¹ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜,
            // ë³„ë„ì˜ ìš”ì²­ì„ í†µí•´ í˜„ì¬ ì‚¬ìš©ìì˜ IDë¥¼ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.
            const userId = "í˜„ì¬ ì‚¬ìš©ìì˜ ID";

            fetch(`/student-info?userId=${userId}`) // ì„œë²„ì˜ API ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œ
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                }) // JSON í˜•ì‹ìœ¼ë¡œ ë³€í™˜
                .then(data => {
                    // ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ HTMLì— ì¶”ê°€
                    const studentInfoDiv = document.getElementById('student-info');
                    if (data) {
                        studentInfoDiv.innerHTML = `
                            <p>í•™ë²ˆ: ${data.student_id}</p>
                            <p>ì´ë¦„: ${data.student_name}</p>
                            <p>ì „ê³µ: ${data.major}</p>
                        `;
                    } else {
                        studentInfoDiv.innerHTML = 'í•™ìƒ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.';
                    }
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    const studentInfoDiv = document.getElementById('student-info');
                    studentInfoDiv.innerHTML = 'í•™ìƒ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                });
        }


        // í˜ì´ì§€ ë¡œë“œ ì‹œ fetchData í•¨ìˆ˜ í˜¸ì¶œí•˜ì—¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        window.onload = function() {
            fetchData();
        };
    </script>
</head>
<body>
<!-- HTML ì½”ë“œ -->
<div class="mem05">
    <div class="mypage">ë§ˆì´í˜ì´ì§€</div>
    <div class="container">
        <div class="title2">ğŸ‘¤ ë‚´ ì •ë³´</div>
        <div id="student-info"></div>
        <button class="edit" onclick="openModal('ë‚´ ì •ë³´')">ìˆ˜ì •í•˜ê¸°</button>
    </div>
    <div class="container">
        <div class="title2">ğŸ“š ì˜ì–´ ì¸ì¦ ë° ê³ ì „ë…ì„œ</div>
        <button class="edit" onclick="openModal('ì˜ì–´ ì¸ì¦ ë° ê³ ì „ë…ì„œ')">ìˆ˜ì •í•˜ê¸°</button>
    </div>
    <div class="container">
        <div class="title2">ê¸°ì´ìˆ˜ê³¼ëª©</div>
        <button class="edit" onclick="openModal('ê¸°ì´ìˆ˜ê³¼ëª©')">ìˆ˜ì •í•˜ê¸°</button>
    </div>

    <!â€” ëª¨ë‹¬ â€”>
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p id="modal-text"></p>
        </div>
    </div>
</div>

<script>
    function openModal(text) {
        document.getElementById("modal-text").innerHTML = text;
        document.getElementById("myModal").style.display = "block";
    }

    function closeModal() {
        document.getElementById("myModal").style.display = "none";
    }
</script>

</body>
</html>
